#-----------------------------------------------------------
# Vivado v2017.3 (64-bit)
# SW Build 2018833 on Wed Oct  4 19:58:07 MDT 2017
# IP Build 2016188 on Wed Oct  4 21:52:56 MDT 2017
# Start of session at: Sun May 13 13:33:49 2018
# Process ID: 3628
# Current directory: /home/adadek/workspace/SoC_Design
# Command line: vivado
# Log file: /home/adadek/workspace/SoC_Design/vivado.log
# Journal file: /home/adadek/workspace/SoC_Design/vivado.jou
#-----------------------------------------------------------
start_gui
open_project /home/adadek/workspace/SoC_Design/vivado/soc_project.xpr
update_compile_order -fileset sources_1
open_bd_design {/home/adadek/workspace/SoC_Design/vivado/soc_project.srcs/sources_1/bd/soc_project/soc_project.bd}
delete_bd_objs [get_bd_nets FILTER_IIR_0_AUDIO_OUT_R]
delete_bd_objs [get_bd_nets FILTER_IIR_0_AUDIO_OUT_L]
set_property location {2 651 54} [get_bd_cells mixer_0]
set_property location {4.5 2530 212} [get_bd_cells mixer_0]
set_property location {5 2367 231} [get_bd_cells mixer_0]
connect_bd_net [get_bd_pins FILTER_IIR_0/AUDIO_OUT_L] [get_bd_pins mixer_0/audio_channel_a_left_in]
connect_bd_net [get_bd_pins FILTER_IIR_0/AUDIO_OUT_R] [get_bd_pins mixer_0/audio_channel_a_right_in]
delete_bd_objs [get_bd_nets FILTER_IIR_0_AUDIO_OUT_R]
connect_bd_net [get_bd_pins FILTER_IIR_0/AUDIO_OUT_R] [get_bd_pins mixer_0/audio_channel_a_right_in]
connect_bd_net [get_bd_pins mixer_0/audio_mixed_a_b_left_out] [get_bd_pins zed_audio_0/hphone_l]
connect_bd_net [get_bd_pins mixer_0/audio_mixed_a_b_right_out] [get_bd_pins zed_audio_0/hphone_r]
connect_bd_net [get_bd_pins FILTER_IIR_1/AUDIO_OUT_L] [get_bd_pins mixer_0/audio_channel_b_left_in]
connect_bd_net [get_bd_pins FILTER_IIR_1/AUDIO_OUT_R] [get_bd_pins mixer_0/audio_channel_b_right_in]
save_bd_design
close_project
open_project -read_only /home/adadek/workspace/project/vivado/project.xpr
update_compile_order -fileset sources_1
open_project /home/adadek/workspace/SoC_Design/vivado/soc_project.xpr
update_compile_order -fileset sources_1
current_project project
open_bd_design {/home/adadek/workspace/project/vivado/project.srcs/sources_1/bd/project/project.bd}
current_project soc_project
open_bd_design {/home/adadek/workspace/SoC_Design/vivado/soc_project.srcs/sources_1/bd/soc_project/soc_project.bd}
regenerate_bd_layout
current_project project
current_project soc_project
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:xlconcat:2.1 xlconcat_0
endgroup
set_property location {1.5 216 599} [get_bd_cells xlconcat_0]
delete_bd_objs [get_bd_nets FILTER_IIR_0_FILTER_DONE]
connect_bd_net [get_bd_pins xlconcat_0/dout] [get_bd_pins processing_system7_0/IRQ_F2P]
connect_bd_net [get_bd_pins FILTER_IIR_0/FILTER_DONE] [get_bd_pins xlconcat_0/In1]
connect_bd_net [get_bd_pins FILTER_IIR_1/FILTER_DONE] [get_bd_pins xlconcat_0/In0]
current_project project
current_project soc_project
save_bd_design
startgroup
set_property -dict [list CONFIG.PCW_IRQ_F2P_INTR {1} CONFIG.PCW_CORE0_FIQ_INTR {0}] [get_bd_cells processing_system7_0]
endgroup
save_bd_design
regenerate_bd_layout
current_project project
current_project soc_project
regenerate_bd_layout
validate_bd_design
save_bd_design
current_project project
current_project soc_project
set_property  ip_repo_paths  {/home/adadek/workspace/SoC_Design/IPs/zedboard_audio /home/adadek/workspace/SoC_Design/IPs/OLED/ZedBoard_OLED_1.0 /home/adadek/workspace/SoC_Design/IPs/Volume_Pregain_1.0 /home/adadek/workspace/SoC_Design/IPs/FILTER_IIR_1.0 /home/adadek/workspace/SoC_Design/ip_repo/AXI_AUDIO_1.0} [current_project]
update_ip_catalog
startgroup
create_bd_cell -type ip -vlnv tamu.edu:user:ZedboardOLED:1.0 ZedboardOLED_0
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" intc_ip "/ps7_0_axi_periph" Clk_xbar "Auto" Clk_master "Auto" Clk_slave "Auto" }  [get_bd_intf_pins ZedboardOLED_0/S00_AXI]
current_project project
current_project soc_project
add_files -fileset constrs_1 -norecurse /home/adadek/workspace/SoC_Design/IPs/OLED/oled_constraints.xdc
save_bd_design
regenerate_bd_layout
regenerate_bd_layout
current_project project
current_project soc_project
startgroup
create_bd_port -dir O DC
connect_bd_net [get_bd_pins /ZedboardOLED_0/DC] [get_bd_ports DC]
endgroup
startgroup
create_bd_port -dir O RES
connect_bd_net [get_bd_pins /ZedboardOLED_0/RES] [get_bd_ports RES]
endgroup
startgroup
create_bd_port -dir O SCLK
connect_bd_net [get_bd_pins /ZedboardOLED_0/SCLK] [get_bd_ports SCLK]
endgroup
startgroup
create_bd_port -dir O SDIN
connect_bd_net [get_bd_pins /ZedboardOLED_0/SDIN] [get_bd_ports SDIN]
endgroup
startgroup
create_bd_port -dir O VBAT
connect_bd_net [get_bd_pins /ZedboardOLED_0/VBAT] [get_bd_ports VBAT]
endgroup
startgroup
create_bd_port -dir O VDD
connect_bd_net [get_bd_pins /ZedboardOLED_0/VDD] [get_bd_ports VDD]
endgroup
save_bd_design
validate_bd_design
save_bd_design
regenerate_bd_layout
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_gpio:2.0 axi_gpio_0
endgroup
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" intc_ip "/ps7_0_axi_periph" Clk_xbar "Auto" Clk_master "Auto" Clk_slave "Auto" }  [get_bd_intf_pins axi_gpio_0/S_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:board -config {Board_Interface "sws_8bits ( DIP switches ) " }  [get_bd_intf_pins axi_gpio_0/GPIO]
endgroup
regenerate_bd_layout
regenerate_bd_layout
validate_bd_design
current_project project
current_project soc_project
save_bd_design
validate_bd_design -force
save_bd_design
reset_run synth_1
reset_run soc_project_processing_system7_0_0_synth_1
reset_run soc_project_xbar_0_synth_1
launch_runs impl_1 -to_step write_bitstream -jobs 2
wait_on_run impl_1
file copy -force /home/adadek/workspace/SoC_Design/vivado/soc_project.runs/impl_1/soc_project_wrapper.sysdef /home/adadek/workspace/SoC_Design/vivado/soc_project.sdk/soc_project_wrapper.hdf

launch_sdk -workspace /home/adadek/workspace/SoC_Design/vivado/soc_project.sdk -hwspec /home/adadek/workspace/SoC_Design/vivado/soc_project.sdk/soc_project_wrapper.hdf
file mkdir /home/adadek/workspace/SoC_Design/vivado/soc_project.sdk
file copy -force /home/adadek/workspace/SoC_Design/vivado/soc_project.runs/impl_1/soc_project_wrapper.sysdef /home/adadek/workspace/SoC_Design/vivado/soc_project.sdk/soc_project_wrapper.hdf

launch_sdk -workspace /home/adadek/workspace/SoC_Design/vivado/soc_project.sdk -hwspec /home/adadek/workspace/SoC_Design/vivado/soc_project.sdk/soc_project_wrapper.hdf
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_gpio:2.0 axi_gpio_1
endgroup
startgroup
set_property -dict [list CONFIG.C_GPIO2_WIDTH {5} CONFIG.C_IS_DUAL {1} CONFIG.C_ALL_INPUTS_2 {1} CONFIG.GPIO2_BOARD_INTERFACE {btns_5bits} CONFIG.C_ALL_OUTPUTS_2 {0}] [get_bd_cells axi_gpio_0]
endgroup
close_project
